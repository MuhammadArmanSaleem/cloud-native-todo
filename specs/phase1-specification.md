# Phase I – In-Memory Python Console Application

## Purpose

This specification defines the core functionality for Phase I of the Evolution of Todo project.
The goal is to implement a minimal, deterministic, in-memory Todo system using spec-driven development, where all code is generated by Claude Code based strictly on this specification.

## Scope
### In Scope

- In-memory task storage (process lifetime only)
- Console-based interaction (CLI)
- Basic Level features only:
  - Add Task
  - View Task List
  - Update Task
  - Delete Task
  - Mark Task as Complete / Incomplete

### Out of Scope

- Persistent storage (DB, files)
- Web UI
- Authentication or users
- AI / Chatbot features
- Tags, priorities, due dates, recurring tasks
- External APIs

## Functional Requirements
### FR-1: Add Task

**Description**
The system shall allow the user to create a new task with a title and optional description.

**Rules**
- Title is required
- Description is optional

**Validation**
- Title length: 1–200 characters
- Description length: 0–1000 characters

**Expected Behavior**
- System assigns a unique incremental task ID
- Task is stored in memory
- Task defaults to completed = false

### FR-2: View Task List

**Description**
The system shall display all existing tasks.

**Display Requirements**
Each task must show:
- ID
- Title
- Completion status ([ ] or [✓])
- Created timestamp

**Ordering**
- Tasks displayed in ascending order by ID

**Empty State**
- If no tasks exist, display a clear "No tasks found" message

### FR-3: Update Task

**Description**
The system shall allow updating an existing task's title and/or description.

**Rules**
- Task must exist
- At least one field must be provided for update

**Validation**
- Updated title must follow the same rules as creation
- Description length limits apply

**Expected Behavior**
- Task fields are updated in memory
- updated_at timestamp is refreshed

### FR-4: Delete Task

**Description**
The system shall allow deletion of a task by ID.

**Rules**
- Task must exist
- Deletion is permanent for the current runtime

**Expected Behavior**
- Task is removed from in-memory storage
- System confirms deletion

### FR-5: Mark Task as Complete / Incomplete

**Description**
The system shall allow toggling a task's completion status.

**Rules**
- Task must exist
- Toggle behavior:
  - If incomplete → mark complete
  - If complete → mark incomplete

**Expected Behavior**
- completed field toggles
- Confirmation message shown

## Data Model
### Task Entity
| Field | Type | Description |
|-------|------|-------------|
| id | integer | Unique incremental identifier |
| title | string | Task title |
| description | string \| null | Optional task description |
| completed | boolean | Completion status |
| created_at | datetime | Creation timestamp |
| updated_at | datetime | Last update timestamp |

## CLI Interface Specification
### Commands (Logical)

The CLI must support the following logical operations:
- add → create task
- list → view tasks
- update → update task
- delete → delete task
- toggle → mark complete / incomplete

Exact argument syntax may vary, but functionality must map 1-to-1 with these operations.

## Error Handling Requirements
### Common Errors
- Invalid task ID
- Task not found
- Empty or invalid title
- Invalid command usage

### Error Behavior
- Display human-readable error message
- Do not crash application
- Return to CLI prompt gracefully

## Non-Functional Requirements
- Deterministic behavior
- No side effects outside memory
- Clean separation of:
  - Domain logic
  - Storage
  - CLI interface
- Code must be readable and maintainable
- No manual code edits allowed

## Spec-Driven Workflow Enforcement
All code must be generated by Claude Code
Developer must:
- Write or update spec
- Ask Claude Code to implement
- Run the application
- Refine spec if behavior is incorrect
- Regenerate code

## Acceptance Criteria (Definition of Done)
Phase I is complete when:
- All 5 Basic Level features work correctly
- Application runs fully in memory
- CLI outputs are clear and consistent
- No advanced features are implemented
- Repository includes:
  - Phase I Constitution
  - Phase I specs
  - Working /src console app
- Demo can be completed in under 90 seconds

## Forward Compatibility (Non-Implementation)
This phase intentionally defines a clean domain model that will later support:
- Database persistence (Phase II)
- Multi-user support (Phase II)
- AI tool invocation (Phase III)

No future features are implemented in this phase.